{% extends 'base.html' %} 

{% block title %} Projetos {% endblock %} 

{% block content %}

<div class="home_project" id="home_project">
    <h1> Projetos </h1>
    
    <div class="group_buttons">
        <a 
            href="registrar" 
            target="_blank" 
            rel="noopener noreferrer">
            Adicionar
        </a>
        <a 
            type="button"
            class="filter_project_button disabled" 
            id="filter_project_button" 
            name="filter_project_button" 
            onclick="filterProjects()">
            Filtrar
        </a>
        <a 
            type="button"
            class="button_to_list_all_projects" 
            id="button_to_list_all_projects" 
            name="button_to_list_all_projects" 
            href="listar"
            target="_blank">
            Listar todos
        </a>
    </div>

    <form class="filter_project_form" id="filter_project_form" method="GET">  
        <input 
            id="filter_project_input"
            class="filter_project_input"
            type="search" 
            name="nome" 
            placeholder="Nome do projeto"
        >

    </form>
    {% if projects %}
        <table class="table search_results_table" id="search_results_table">
            <thead>
                <tr>
                    <th scope="col">#</th>
                    <th scope="col">Código</th>
                    <th scope="col">Nome</th>
                    <th scope="col">Situação</th>
                    <th scope="col">Data de Início</th>
                    <th scope="col">Data de Finalização</th>
                </tr>
            </thead>
            <tbody class="table-group-divider">
                {% for project in projects %} 
            
                <tr>
                    <th><input type="checkbox" name="codigo" value={{project.id}} id={{project.id}} onchange="check_checkboxes()"></th>
                    <th scope="row">{{project.id}}</th>
                    <td>{{project.nome}}</td>
                    <td>{{project.situacao}}</td>
                    <td>{{project.data_inicio}}</td>
                    <td>{{project.data_termino}}</td>
                </tr>

                {% endfor %}
            </tbody>
        </table>
    {% endif %}
</div>


{% endblock %}